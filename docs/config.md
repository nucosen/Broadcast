# 環境変数一覧

NUCOSen Broadcastが読み取る環境変数の一覧は次の通りです。

| 環境変数名 | 説明 |
| :--: | :-- |
| LIVE_TITLE | 生放送のタイトル |
| COMMUNITY | 放送対象のcoから始まるコミュニティID |
| TAGS | 生放送の枠に付与されるタグ。半角コンマ（,）区切り |
| REQTAGS | 放送対象の動画のタグ。半角コンマ（,）区切り |
| NICO_ID | ニコニコアカウントのメールアドレス |
| NICO_PW | （機密）ニコニコアカウントのパスワード |
| NICO_TFA | （機密）ニコニコアカウントの2段階認証を突破するための鍵 |
| LOGGING_DISCORD_WEBHOOK | （機密）ログの送信先。DiscordのウェブフックURL |
| QUEUE_URL | 放送待ちデータベースのURL |
| REQUEST_URL | リクエスト受理待ちデータベースのURL |
| DB_KEY | （機密）データベースのアクセス鍵 |
| NG_TAGS | 放送自主規制の対象。タグ単位。半角コンマ（,）区切り |
| --- | --- ▲設定必須 --- ▼省略可 --- |
| USE_OLD_VIDEO_API | （省略可）省略しない場合は1を指定すること。指定すると、動画引用可能チェックに古いAPIを使用する |
| IGNORE_QUOTABLE_CHECK | （省略可）省略しない場合は1を指定すること。指定すると、動画引用可能チェックを無視する |
| MAINTENANCE_VIDEO_ID | （省略可）省略しない場合はsm123などの動画IDを指定すること。指定すると、再起動時の調整中動画をその動画に置き換える |
| CLOSING_VIDEO_ID | （省略可）省略しない場合はsm123などの動画IDを指定すること。指定すると、枠終了前のクロージング動画をその動画に置き換える |
| NUCOSEN_UA_PREFIX | （省略可）省略しない場合は"Sample1"など半角英数字で構成された配信固有の名称を指定すること。ユーザーエージェントの前半部分を"Anonymous"から置き換える |
| NUCOSEN_LIVE_DESCRIPTION | （省略可）省略しない場合は"<font size="+1">配信へようこそ！</font><br />説明説明説明"のようにニコニコの形式に従って説明文を記述すること。通常の改行ではなくbrタグを使うことに注意。配信の説明文を置き換える |
| NUCOSEN_TIMESHIFT_ENABLED | （省略可）省略しない場合は1を指定すること。指定すると、配信のタイムシフトを公開する。省略した場合はタイムシフトは非公開にする。 |
| NUCOSEN_USER_AD_DISABLED | （省略可）省略しない場合は1を指定すること。指定すると、ニコニ広告を無効にする。 |
| NUCOSEN_MAINTENANCE_MESSAGE | （省略可）指定すると、メンテナンス画面の投稿者コメントが置き換えられる |
| NUCOSEN_CLOSING_MESSAGE | （省略可）指定すると、配信終了の投稿者コメントが置き換えられる |
| MIN_ALLOWABLE_DURATION | （省略可）省略しない場合は自然数を指定すること。指定すると、ランダム放送で許容する動画の最短長さが変更される（例：100を指定すると1分40秒未満の動画はランダム再生されない）。省略した場合は45秒。リクエストの審査には影響しない。 |
| MAX_ALLOWABLE_DURATION | （省略可）省略しない場合は自然数を指定すること。指定すると、ランダム放送で許容する動画の最短長さが変更される（例：100を指定すると1分40秒未満の動画はランダム再生されない）。省略した場合は10分。MIN_ALLOWABLE_DURATIONより小さい値となった場合は、最短許容時間の値+10分。リクエストの審査には影響しない。 |
| NG_VIDEO_IDS | （省略可）省略しない場合はsm123,sm456のようにコンマ区切りで動画IDを列挙すること。指定すると、指定された動画はランダム放送でピックアップしない。 |
| QUOTE_MAIN | （省略可）省略しない場合は1を指定すること。指定すると、配信ストリームではなく引用部分をメインに設定する。省略した場合は配信ストリームがメイン画面として画面全体、動画の引用がサブ画面として右下の枠（もしくは音楽のみ）に配置される。 |
| MAIN_VOLUME | （省略可）省略しない場合は0.3などの0以上1以下の数値を指定すること。指定すると、メインに設定されている配信の音量を設定された値に上書きする。省略した場合は0.5。 |
| SUB_VOLUME | （省略可）省略しない場合は0.3などの0以上1以下の数値を指定すること。指定すると、サブに設定されている配信の音量を設定された値に上書きする。省略しない場合は0.5。 |
| SUB_SOUND_ONLY | （省略可）省略しない場合は1を指定すること。指定すると、サブ画面は映像なし（音楽のみ）で配信に乗るようになる。省略した場合はサブ画面が配信画面右下の枠付きで表示される。 |
